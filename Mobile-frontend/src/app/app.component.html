<ion-app>
  <ion-menu class="ion-padding" side="end" contentId="main-content" fullscreen="true">
    <ion-content  class="ion-padding" color="light" [fullscreen]="true">
      <div data-cy=profilePage (click)="goToUserPage(user?.id)" class="profile-pic">
        <ion-avatar>
          <img
            [src]="user?.profilePictureBase64 ? 'data:image/jpeg;base64,' + user?.profilePictureBase64 : 'assets/default_profile_picture.jpg'"
            alt="Profile Picture" />
        </ion-avatar>
      </div>
      <h2 (click)="goToUserPage(user?.id)" class="text-center">{{user?.firstName}} {{user?.lastName}}</h2>

      <ion-button data-cy="FriendsPage" shape="round" (click)="gotofriends()" fill="clear" class="menu-item">
        <div class="button-container">
          <ion-icon color="tertiary" name="person-add-outline"></ion-icon>
          <span>Friends</span>
          @if(friendRequests > 0 || challengeRequests > 0) {
          <ion-badge color="danger" class="menu-badge">d</ion-badge>
          }
        </div>
      </ion-button>
      <hr class="divider">
      <ion-button (click)="goToNegativeHabits()" shape="round" fill="clear" class="menu-item">
        <ion-icon color="danger" name="ban-outline"></ion-icon>
        <span>Negative habits</span>
      </ion-button>
      <ion-button shape="round" (click)="Logout()" fill="clear" class="menu-item">
        <ion-icon name="log-out-outline"></ion-icon>
        <span>Log out</span>
      </ion-button>
    </ion-content>
  </ion-menu>

  <ion-router-outlet id="main-content"></ion-router-outlet>
</ion-app>